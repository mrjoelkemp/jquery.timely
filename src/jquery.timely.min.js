(function(e){"use strict";var t='<div class="time-unit"></div>',n='<div class="time-grid"></div>',r='<div class="timely"></div>';e.fn.timely=function(t){t=e.extend({period:"monthly",color:"#0F0"},t);var n=e(this),r=i(t.period);t.data=o();s(r,t.data,t.color);n.html(r)};var i=function(t){var n;if(t.toLowerCase()==="monthly"){n=e(r);n.append(u())}return n},s=function(t,n,r){var i=t.find(".time-unit"),s={};e.each(i,function(t,n){var r=e(n).data("value");typeof r!="undefined"&&(s[r]=t)});e.each(n,function(t,n){var o=i[s[t]];if(o){e(o).data("intensity",n);o.style.background=r;o.style.opacity=n;o.style.filter="alpha(opacity="+(1-n)+")"}})},o=function(){var e={};for(var t=1;t<365;t++)e[t]=Math.random().toFixed(2);return e},u=function(){var r=e(t),i=e(n),s,o;for(var u=1;u<=52;u++){s=e('<div class="week"></div>');s.addClass(u.toString()).data("value",u);for(var a=1;a<=7;a++){o=a+7*(u-1);r=e(t);r.addClass("day "+o).data("value",o);s.append(r)}i.append(s)}return i},a=function(e){var t=c(e)?e:p(e);t.r=255-t.r;t.g=255-t.g;t.b=255-t.b;return t},f=function(e,t){var n=c(e)?e:p(e);n.r*=t;n.g*=t;n.b*=t;return"rgb("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+")"},l=function(e){return typeof e=="string"&&e.indexOf("#")!==-1&&(e.length===4||e.length===7)},c=function(e){return typeof e=="object"&&typeof e.r!="undefined"&&typeof e.g!="undefined"&&typeof e.b!="undefined"},h=function(e,t,n){var r=function(e){var t=e.toString(16);return t.length===1?"0"+t:t};return"#"+r(e)+r(t)+r(n)},p=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}})(window.jQuery);