(function(e){"use strict";var t='<div class="time-unit"></div>',n='<div class="time-grid"></div>',r='<div class="timely"></div>';e.fn.timely=function(t){t=e.extend({period:"monthly",color:"#0F0"},t);var n=e(this),r=i(t.period);t.data=o();s(r,t.data,t.color);n.html(r)};var i=function(t){var n;if(t.toLowerCase()==="monthly"){n=e(r);n.append(u())}return n},s=function(t,n,r){var i=t.find(".time-unit"),s={};e.each(i,function(t,n){var r=e(n).data("value");typeof r!="undefined"&&(s[r]=t)});e.each(n,function(t,n){var o=i[s[t]];if(o){e(o).data("intensity",n);o.style.background=r;o.style.opacity=n;o.style.filter="alpha(opacity="+(1-n)+")"}})},o=function(){var e={};for(var t=1;t<365;t++)e[t]=Math.random().toFixed(2);return e},u=function(){var r=e(t),i=e(n),s,o;for(var u=1;u<=52;u++){s=e('<div class="week"></div>');s.addClass(u.toString()).data("value",u);for(var a=1;a<=7;a++){o=a+7*(u-1);r=e(t);r.addClass("day "+o).data("value",o);s.append(r)}i.append(s)}return i}})(window.jQuery);